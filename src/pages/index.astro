---
import WallOfPathsSection from '../components/WallOfPathsSection.astro';
import Layout from '../layouts/Layout.astro';
---

<Layout title="Wall of Paths" description="Explore real career stories in the Wall of Paths view.">
  <section class="page-hero animate-rise">
    <p><strong>RealJobScope</strong></p>
    <h1>See what jobs are actually like.</h1>
    <p>
      Wall of Paths is now the primary discovery experience. Explore approved job stories, then
      contribute your own.
    </p>
    <div class="cta-row">
      <a class="btn btn-primary" href="/jobs">Browse all jobs</a>
      <a class="btn btn-secondary" href="/share">Share your story</a>
      <a class="btn btn-secondary" href="/guidelines">Submission guidelines</a>
    </div>
  </section>

  <WallOfPathsSection server:defer>
    <section slot="fallback" class="wall-grid" aria-live="polite" aria-busy="true">
      {
        Array.from({ length: 9 }).map(() => (
          <article class="panel tile skeleton">
            <div class="skeleton-pill" />
            <div class="skeleton-title" />
            <div class="skeleton-line" />
          </article>
        ))
      }
    </section>
  </WallOfPathsSection>

  <section class="decision-lab panel animate-rise">
    <div class="decision-lab-head">
      <p><strong>Decision Lab</strong></p>
      <h2>Use RealJobScope in 10 focused minutes.</h2>
      <p>
        Pick one role you are considering, then pressure-test it using concrete questions before you
        spend more time on that path.
      </p>
    </div>

    <div class="question-grid">
      <div>
        <h3>Reality check</h3>
        <p>What does a normal week look like, and do you want to do that repeatedly?</p>
      </div>
      <div>
        <h3>Friction check</h3>
        <p>Which hard parts in the story would drain you, and which feel manageable?</p>
      </div>
      <div>
        <h3>Fit check</h3>
        <p>Does the advice section match your strengths, interests, and current constraints?</p>
      </div>
      <div>
        <h3>Next step check</h3>
        <p>What specific project, course, or internship could validate this path this month?</p>
      </div>
    </div>

    <div class="cta-row">
      <a class="btn btn-primary" href="/jobs">Start with the directory</a>
      <a class="btn btn-secondary" href="/about">How RealJobScope works</a>
    </div>
  </section>
</Layout>

<style>
  .wall-grid {
    column-count: 3;
    column-gap: 0.8rem;
  }

  .tile {
    display: inline-grid;
    width: 100%;
    margin-bottom: 0.8rem;
    text-decoration: none;
    gap: 0.4rem;
    background: var(--tile-bg);
  }

  .tile h2 {
    margin: 0;
    font-size: 1.1rem;
  }

  .tile p {
    margin: 0;
    color: var(--ink-soft);
  }

  .tile-label {
    display: inline-flex;
    width: fit-content;
    padding: 0.16rem 0.5rem;
    border-radius: 999px;
    background: #fff;
    border: 1px solid var(--line);
    font-size: 0.79rem;
  }

  .tile.skeleton {
    gap: 0.55rem;
    pointer-events: none;
  }

  .skeleton-pill,
  .skeleton-title,
  .skeleton-line {
    border-radius: 999px;
    background: var(--skeleton-shimmer);
    background-size: 180% 100%;
    animation: shimmer 1.2s ease-in-out infinite;
  }

  .skeleton-pill {
    width: 28%;
    height: 0.95rem;
  }

  .skeleton-title {
    width: 86%;
    height: 1.35rem;
    border-radius: 10px;
  }

  .skeleton-line {
    width: 64%;
    height: 1rem;
  }

  @keyframes shimmer {
    0% {
      background-position: 100% 0;
    }
    100% {
      background-position: -100% 0;
    }
  }

  .decision-lab {
    margin-top: 1.1rem;
    display: grid;
    gap: 0.8rem;
    background: var(--decision-lab-bg);
  }

  .decision-lab-head h2 {
    margin: 0;
    font-size: clamp(1.5rem, 2.3vw, 2.1rem);
  }

  .decision-lab-head p:last-child {
    color: var(--ink-soft);
  }

  .question-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.65rem;
  }

  .question-grid div {
    border: 1px solid rgba(15, 42, 59, 0.18);
    border-radius: 12px;
    padding: 0.72rem;
    background: rgba(255, 255, 255, 0.8);
  }

  .question-grid h3 {
    margin: 0;
    font-size: 1rem;
  }

  .question-grid p {
    margin: 0.3rem 0 0;
    color: var(--ink-soft);
  }

  @media (max-width: 900px) {
    .wall-grid {
      column-count: 2;
    }

    .question-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 580px) {
    .wall-grid {
      column-count: 1;
    }
  }
</style>
