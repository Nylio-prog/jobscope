---
const pathname = Astro.url.pathname;

const links = [
  { href: '/', label: 'Wall of Paths' },
  { href: '/jobs', label: 'Jobs' },
  { href: '/share', label: 'Share Story' },
  { href: '/about', label: 'About' },
  { href: '/guidelines', label: 'Guidelines' },
];

const isActive = (href: string) => {
  if (href === '/') {
    return pathname === '/';
  }

  return pathname === href || pathname.startsWith(`${href}/`);
};
---

<header class="site-header">
  <a class="brand" href="/">
    <span class="brand-dot" aria-hidden="true"></span>
    <span class="brand-title">JobScope</span>
  </a>

  <nav class="site-nav" aria-label="Main navigation">
    {
      links.map((link) => (
        <a class={isActive(link.href) ? 'is-active' : undefined} href={link.href}>
          {link.label}
        </a>
      ))
    }
  </nav>
</header>
